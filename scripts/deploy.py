import json

from brownie import accounts
from web3 import Web3
from web3.middleware import geth_poa_middleware
from brownie.network.gas.strategies import GasNowScalingStrategy
from brownie.project import load as load_project
from brownie.project.main import get_loaded_projects

# set a throwaway admin account here
accounts.load('default-dev')
DEPLOYER = accounts[0]
REQUIRED_CONFIRMATIONS = 1

# deployment settings
# most settings are taken from `contracts/pools/{POOL_NAME}/pooldata.json`
POOL_NAME = "7pool-test"

# temporary owner address
POOL_OWNER = "0xeBD561D706A901eCd7836c83c0F1929831bbda64"
GAUGE_OWNER = "0xeBD561D706A901eCd7836c83c0F1929831bbda64"

MINTER = "0x8df362cdFF02dBe30CE7A24918DE1121BD5e1183"

# POOL_OWNER = "0xeCb456EA5365865EbAb8a2661B0c503410e9B347"  # PoolProxy
# GAUGE_OWNER = "0x519AFB566c05E00cfB9af73496D00217A630e4D5"  # GaugeProxy


def _tx_params():
    return {
        "from": "0x2f078521803E6120E6047716c4489CE253AAE7c2",
        "required_confs": REQUIRED_CONFIRMATIONS,
        "gas_price": 21000000000,
        "gas_limit": 10000000
    }


def main():
    project = get_loaded_projects()[0]
    web3 = Web3(Web3.HTTPProvider('https://rpc.waterfall.network/rpc'))
    web3.middleware_onion.inject(geth_poa_middleware, layer=0)
    # load data about the deployment from `pooldata.json`
    contracts_path = project._path.joinpath("contracts/pools")
    with contracts_path.joinpath(f"{POOL_NAME}/pooldata.json").open() as fp:
        pool_data = json.load(fp)

    swap_name = next(i.stem for i in contracts_path.glob(f"{POOL_NAME}/StableSwap*"))
    swap_deployer = getattr(project, swap_name)
    token_deployer = getattr(project, pool_data.get("lp_contract"))
    print(pool_data.get("lp_contract"))

    underlying_coins = [i["underlying_address"] for i in pool_data["coins"]]
    wrapped_coins = [i.get("wrapped_address", i["underlying_address"]) for i in pool_data["coins"]]

    base_pool = None

    # deploy the token
    abiToken = '[{"anonymous": false, "inputs": [{"indexed": true, "name": "_from", "type": "address"}, {"indexed": true, "name": "_to", "type": "address"}, {"indexed": false, "name": "_value", "type": "uint256"}], "name": "Transfer", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "name": "_owner", "type": "address"}, {"indexed": true, "name": "_spender", "type": "address"}, {"indexed": false, "name": "_value", "type": "uint256"}], "name": "Approval", "type": "event"}, {"inputs": [{"name": "_name", "type": "string"}, {"name": "_symbol", "type": "string"}], "outputs": [], "stateMutability": "nonpayable", "type": "constructor", "name": "constructor"}, {"gas": 288, "inputs": [], "name": "decimals", "outputs": [{"name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"gas": 74740, "inputs": [{"name": "_to", "type": "address"}, {"name": "_value", "type": "uint256"}], "name": "transfer", "outputs": [{"name": "", "type": "bool"}], "stateMutability": "nonpayable", "type": "function"}, {"gas": 111382, "inputs": [{"name": "_from", "type": "address"}, {"name": "_to", "type": "address"}, {"name": "_value", "type": "uint256"}], "name": "transferFrom", "outputs": [{"name": "", "type": "bool"}], "stateMutability": "nonpayable", "type": "function"}, {"gas": 37821, "inputs": [{"name": "_spender", "type": "address"}, {"name": "_value", "type": "uint256"}], "name": "approve", "outputs": [{"name": "", "type": "bool"}], "stateMutability": "nonpayable", "type": "function"}, {"gas": 39065, "inputs": [{"name": "_spender", "type": "address"}, {"name": "_added_value", "type": "uint256"}], "name": "increaseAllowance", "outputs": [{"name": "", "type": "bool"}], "stateMutability": "nonpayable", "type": "function"}, {"gas": 39089, "inputs": [{"name": "_spender", "type": "address"}, {"name": "_subtracted_value", "type": "uint256"}], "name": "decreaseAllowance", "outputs": [{"name": "", "type": "bool"}], "stateMutability": "nonpayable", "type": "function"}, {"gas": 75679, "inputs": [{"name": "_to", "type": "address"}, {"name": "_value", "type": "uint256"}], "name": "mint", "outputs": [{"name": "", "type": "bool"}], "stateMutability": "nonpayable", "type": "function"}, {"gas": 75697, "inputs": [{"name": "_to", "type": "address"}, {"name": "_value", "type": "uint256"}], "name": "burnFrom", "outputs": [{"name": "", "type": "bool"}], "stateMutability": "nonpayable", "type": "function"}, {"gas": 36485, "inputs": [{"name": "_minter", "type": "address"}], "name": "set_minter", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"gas": 178906, "inputs": [{"name": "_name", "type": "string"}, {"name": "_symbol", "type": "string"}], "name": "set_name", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"gas": 7790, "inputs": [], "name": "name", "outputs": [{"name": "", "type": "string"}], "stateMutability": "view", "type": "function"}, {"gas": 6843, "inputs": [], "name": "symbol", "outputs": [{"name": "", "type": "string"}], "stateMutability": "view", "type": "function"}, {"gas": 1663, "inputs": [{"name": "arg0", "type": "address"}], "name": "balanceOf", "outputs": [{"name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"gas": 1908, "inputs": [{"name": "arg0", "type": "address"}, {"name": "arg1", "type": "address"}], "name": "allowance", "outputs": [{"name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"gas": 1508, "inputs": [], "name": "totalSupply", "outputs": [{"name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"gas": 1538, "inputs": [], "name": "minter", "outputs": [{"name": "", "type": "address"}], "stateMutability": "view", "type": "function"}]'
    tokenByte = "0x6040610a716101403960606020610a7160c03960c051610a71016101803960406020610a7160c03960c05160040135111561003957600080fd5b604060206020610a710160c03960c051610a710161020039602060206020610a710160c03960c05160040135111561007057600080fd5b61018080600060c052602060c020602082510161012060006003818352015b826101205160200211156100a2576100c4565b61012051602002850151610120518501555b815160010180835281141561008f575b50505050505061020080600160c052602060c020602082510161012060006002818352015b826101205160200211156100fc5761011e565b61012051602002850151610120518501555b81516001018083528114156100e9575b505050505050336005556000610260523360007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef6020610260a3610a5956600436101561000d576108f6565b600035601c52600051341561002157600080fd5b63313ce56781141561003857601260005260206000f35b63a9059cbb8114156100e95760043560a01c1561005457600080fd5b60023360e05260c052604060c02080546024358082101561007457600080fd5b80820390509050815550600260043560e05260c052604060c02080546024358181830110156100a257600080fd5b8082019050905081555060243561014052600435337fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef6020610140a3600160005260206000f35b6323b872dd8114156102335760043560a01c1561010557600080fd5b60243560a01c1561011557600080fd5b600260043560e05260c052604060c02080546044358082101561013757600080fd5b80820390509050815550600260243560e05260c052604060c020805460443581818301101561016557600080fd5b80820190509050815550600360043560e05260c052604060c0203360e05260c052604060c02054610140527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6101405118156101f45761014051604435808210156101cf57600080fd5b80820390509050600360043560e05260c052604060c0203360e05260c052604060c020555b604435610160526024356004357fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef6020610160a3600160005260206000f35b63095ea7b38114156102ac5760043560a01c1561024f57600080fd5b60243560033360e05260c052604060c02060043560e05260c052604060c0205560243561014052600435337f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9256020610140a3600160005260206000f35b63395093518114156103615760043560a01c156102c857600080fd5b60033360e05260c052604060c02060043560e05260c052604060c020546024358181830110156102f757600080fd5b80820190509050610140526101405160033360e05260c052604060c02060043560e05260c052604060c020556101405161016052600435337f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9256020610160a3600160005260206000f35b63a457c2d78114156104145760043560a01c1561037d57600080fd5b60033360e05260c052604060c02060043560e05260c052604060c02054602435808210156103aa57600080fd5b80820390509050610140526101405160033360e05260c052604060c02060043560e05260c052604060c020556101405161016052600435337f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9256020610160a3600160005260206000f35b6340c10f198114156104ca5760043560a01c1561043057600080fd5b600554331461043e57600080fd5b6004805460243581818301101561045457600080fd5b80820190509050815550600260043560e05260c052604060c020805460243581818301101561048257600080fd5b808201905090508155506024356101405260043560007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef6020610140a3600160005260206000f35b6379cc679081141561057c5760043560a01c156104e657600080fd5b60055433146104f457600080fd5b600480546024358082101561050857600080fd5b80820390509050815550600260043560e05260c052604060c02080546024358082101561053457600080fd5b808203905090508155506024356101405260006004357fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef6020610140a3600160005260206000f35b631652e9fc8114156105ae5760043560a01c1561059857600080fd5b60055433146105a657600080fd5b600435600555005b63e1430e068114156106f05760606004356004016101403760406004356004013511156105da57600080fd5b60406024356004016101c03760206024356004013511156105fa57600080fd5b3360206102806004638da5cb5b6102205261023c6005545afa61061c57600080fd5b601f3d1161062957600080fd5b600050610280511461063a57600080fd5b61014080600060c052602060c020602082510161012060006003818352015b8261012051602002111561066c5761068e565b61012051602002850151610120518501555b8151600101808352811415610659575b5050505050506101c080600160c052602060c020602082510161012060006002818352015b826101205160200211156106c6576106e8565b61012051602002850151610120518501555b81516001018083528114156106b3575b505050505050005b6306fdde038114156107955760008060c052602060c020610180602082540161012060006003818352015b8261012051602002111561072e57610750565b61012051850154610120516020028501525b815160010180835281141561071b575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f35b6395d89b4181141561083a5760018060c052602060c020610180602082540161012060006002818352015b826101205160200211156107d3576107f5565b61012051850154610120516020028501525b81516001018083528114156107c0575b50505050505061018051806101a001818260206001820306601f82010390500336823750506020610160526040610180510160206001820306601f8201039050610160f35b6370a082318114156108705760043560a01c1561085657600080fd5b600260043560e05260c052604060c0205460005260206000f35b63dd62ed3e8114156108c45760043560a01c1561088c57600080fd5b60243560a01c1561089c57600080fd5b600360043560e05260c052604060c02060243560e05260c052604060c0205460005260206000f35b6318160ddd8114156108dc5760045460005260206000f35b63075461728114156108f45760055460005260206000f35b505b60006000fd5b61015d610a590361015d60003961015d610a59036000f3"
    tokenDeployData = web3.eth.contract(bytecode=tokenByte, abi=abiToken)
    token_args = pool_data["lp_constructor"]
    token_tx = tokenDeployData.constructor(token_args["name"], token_args["symbol"]).transact(_tx_params())
    tx_receipt = web3.eth.wait_for_transaction_receipt(token_tx)
    print('token_contract_address:', tx_receipt.contractAddress)
    token = web3.eth.contract(
                 address=tx_receipt.contractAddress,
                 abi=abiToken
             )
    # deploy the pool
    abi = next(i["inputs"] for i in swap_deployer.abi if i["type"] == "constructor")
    swapAbi = '[ { "anonymous": false, "inputs": [ { "indexed": true, "name": "buyer", "type": "address" }, { "indexed": false, "name": "sold_id", "type": "int128" }, { "indexed": false, "name": "tokens_sold", "type": "uint256" }, { "indexed": false, "name": "bought_id", "type": "int128" }, { "indexed": false, "name": "tokens_bought", "type": "uint256" } ], "name": "tokenexchange", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "name": "provider", "type": "address" }, { "indexed": false, "name": "token_amounts", "type": "uint256[3]" }, { "indexed": false, "name": "fees", "type": "uint256[3]" }, { "indexed": false, "name": "invariant", "type": "uint256" }, { "indexed": false, "name": "token_supply", "type": "uint256" } ], "name": "addliquidity", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "name": "provider", "type": "address" }, { "indexed": false, "name": "token_amounts", "type": "uint256[3]" }, { "indexed": false, "name": "fees", "type": "uint256[3]" }, { "indexed": false, "name": "token_supply", "type": "uint256" } ], "name": "removeliquidity", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "name": "provider", "type": "address" }, { "indexed": false, "name": "token_amount", "type": "uint256" }, { "indexed": false, "name": "coin_amount", "type": "uint256" }, { "indexed": false, "name": "token_supply", "type": "uint256" } ], "name": "removeliquidityone", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "name": "provider", "type": "address" }, { "indexed": false, "name": "token_amounts", "type": "uint256[3]" }, { "indexed": false, "name": "fees", "type": "uint256[3]" }, { "indexed": false, "name": "invariant", "type": "uint256" }, { "indexed": false, "name": "token_supply", "type": "uint256" } ], "name": "removeliquidityimbalance", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "name": "deadline", "type": "uint256" }, { "indexed": true, "name": "admin", "type": "address" } ], "name": "commitnewadmin", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "name": "admin", "type": "address" } ], "name": "newadmin", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": true, "name": "deadline", "type": "uint256" }, { "indexed": false, "name": "fee", "type": "uint256" }, { "indexed": false, "name": "admin_fee", "type": "uint256" } ], "name": "commitnewfee", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "name": "fee", "type": "uint256" }, { "indexed": false, "name": "admin_fee", "type": "uint256" } ], "name": "newfee", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "name": "old_a", "type": "uint256" }, { "indexed": false, "name": "new_a", "type": "uint256" }, { "indexed": false, "name": "initial_time", "type": "uint256" }, { "indexed": false, "name": "future_time", "type": "uint256" } ], "name": "rampa", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "name": "a", "type": "uint256" }, { "indexed": false, "name": "t", "type": "uint256" } ], "name": "stoprampa", "type": "event" }, { "inputs": [ { "name": "_owner", "type": "address" }, { "name": "_coins", "type": "address[3]" }, { "name": "_pool_token", "type": "address" }, { "name": "_a", "type": "uint256" }, { "name": "_fee", "type": "uint256" }, { "name": "_admin_fee", "type": "uint256" } ], "outputs": [], "statemutability": "nonpayable", "type": "constructor" }, { "gas": 5174, "inputs": [], "name": "a", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 5136, "inputs": [], "name": "a_precise", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 1188258, "inputs": [], "name": "get_virtual_price", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 4726111, "inputs": [ { "name": "_amounts", "type": "uint256[3]" }, { "name": "_is_deposit", "type": "bool" } ], "name": "calc_token_amount", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 7296611, "inputs": [ { "name": "_amounts", "type": "uint256[3]" }, { "name": "_min_mint_amount", "type": "uint256" } ], "name": "add_liquidity", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "nonpayable", "type": "function" }, { "gas": 2802658, "inputs": [ { "name": "i", "type": "int128" }, { "name": "j", "type": "int128" }, { "name": "_dx", "type": "uint256" } ], "name": "get_dy", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 2965654, "inputs": [ { "name": "i", "type": "int128" }, { "name": "j", "type": "int128" }, { "name": "_dx", "type": "uint256" }, { "name": "_min_dy", "type": "uint256" } ], "name": "exchange", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "nonpayable", "type": "function" }, { "gas": 209908, "inputs": [ { "name": "_amount", "type": "uint256" }, { "name": "_min_amounts", "type": "uint256[3]" } ], "name": "remove_liquidity", "outputs": [ { "name": "", "type": "uint256[3]" } ], "statemutability": "nonpayable", "type": "function" }, { "gas": 7296017, "inputs": [ { "name": "_amounts", "type": "uint256[3]" }, { "name": "_max_burn_amount", "type": "uint256" } ], "name": "remove_liquidity_imbalance", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "nonpayable", "type": "function" }, { "gas": 1276, "inputs": [ { "name": "_token_amount", "type": "uint256" }, { "name": "i", "type": "int128" } ], "name": "calc_withdraw_one_coin", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 4235885, "inputs": [ { "name": "_token_amount", "type": "uint256" }, { "name": "i", "type": "int128" }, { "name": "_min_amount", "type": "uint256" } ], "name": "remove_liquidity_one_coin", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "nonpayable", "type": "function" }, { "gas": 151539, "inputs": [ { "name": "_future_a", "type": "uint256" }, { "name": "_future_time", "type": "uint256" } ], "name": "ramp_a", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 148300, "inputs": [], "name": "stop_ramp_a", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 110158, "inputs": [ { "name": "_new_fee", "type": "uint256" }, { "name": "_new_admin_fee", "type": "uint256" } ], "name": "commit_new_fee", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 96939, "inputs": [], "name": "apply_new_fee", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 21592, "inputs": [], "name": "revert_new_parameters", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 74330, "inputs": [ { "name": "_owner", "type": "address" } ], "name": "commit_transfer_ownership", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 60407, "inputs": [], "name": "apply_transfer_ownership", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 21682, "inputs": [], "name": "revert_transfer_ownership", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 3838, "inputs": [ { "name": "i", "type": "uint256" } ], "name": "admin_balances", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 23164, "inputs": [], "name": "withdraw_admin_fees", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 113066, "inputs": [], "name": "donate_admin_fees", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 37695, "inputs": [], "name": "kill_me", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 21832, "inputs": [], "name": "unkill_me", "outputs": [], "statemutability": "nonpayable", "type": "function" }, { "gas": 1917, "inputs": [ { "name": "arg0", "type": "uint256" } ], "name": "coins", "outputs": [ { "name": "", "type": "address" } ], "statemutability": "view", "type": "function" }, { "gas": 1947, "inputs": [ { "name": "arg0", "type": "uint256" } ], "name": "balances", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 1868, "inputs": [], "name": "fee", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 1898, "inputs": [], "name": "admin_fee", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 1928, "inputs": [], "name": "owner", "outputs": [ { "name": "", "type": "address" } ], "statemutability": "view", "type": "function" }, { "gas": 1958, "inputs": [], "name": "lp_token", "outputs": [ { "name": "", "type": "address" } ], "statemutability": "view", "type": "function" }, { "gas": 1988, "inputs": [], "name": "initial_a", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 2018, "inputs": [], "name": "future_a", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 2048, "inputs": [], "name": "initial_a_time", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 2078, "inputs": [], "name": "future_a_time", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 2108, "inputs": [], "name": "admin_actions_deadline", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 2138, "inputs": [], "name": "transfer_ownership_deadline", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 2168, "inputs": [], "name": "future_fee", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 2198, "inputs": [], "name": "future_admin_fee", "outputs": [ { "name": "", "type": "uint256" } ], "statemutability": "view", "type": "function" }, { "gas": 2228, "inputs": [], "name": "future_owner", "outputs": [ { "name": "", "type": "address" } ], "statemutability": "view", "type": "function" } ]'
    args = pool_data["swap_constructor"]
    args.update(
        _coins=wrapped_coins,
        _underlying_coins=underlying_coins,
        _pool_token=tx_receipt.contractAddress,
        _base_pool=base_pool,
        _owner=POOL_OWNER,
    )
    deployment_args = [args[i["name"]] for i in abi]
    bytecodeSwap = "0x610100614b16610140396020614b1660c03960c05160a01c1561002157600080fd5b60206020614b160160c03960c05160a01c1561003c57600080fd5b60206040614b160160c03960c05160a01c1561005757600080fd5b60206060614b160160c03960c05160a01c1561007257600080fd5b60206080614b160160c03960c05160a01c1561008d57600080fd5b61024060006003818352015b600061016061024051600381106100af57600080fd5b6020020151186100be57600080fd5b8151600101808352811415610099575b5050600060c052602060c0206101605181556101805160018201556101a0516002820155506101e0516064808202821582848304141761010d57600080fd5b809050905090506006556101e0516064808202821582848304141761013157600080fd5b8090509050905060075561020051600255610220516003556101405160045542624f1a0081818301101561016457600080fd5b808201905090506010556101c051600555614afe56600436101561000d57613330565b600035601c52600051341561002157600080fd5b63f446c1d08114156100505760065801613336565b610140526101405160648082049050905060005260206000f35b6376a2f0f08114156100765760065801613336565b610140526101405160005260206000f35b63bb7b8b808114156102145761014051600658016134ce565b61016052610180526101a0526101405261016080516101c05280602001516101e052806040015161020052506101405161016051610180516101a0516101c0516101e0516102005160065801613336565b61022052610200526101e0526101c0526101a05261018052610160526101405261022051610240526101405161016051610180516101a0516101c0516101e0516102005161022051610240516101c051610260526101e05161028052610200516102a052610240516102c0526102c0516102a0516102805161026051600658016136f2565b610320526102405261022052610200526101e0526101c0526101a052610180526101605261014052610320516101405260206101e060046318160ddd6101805261019c6005545afa6101b657600080fd5b601f3d116101c357600080fd5b6000506101e0516101605261014051670de0b6b3a764000080820282158284830414176101ef57600080fd5b8090509050905061016051808061020557600080fd5b82049050905060005260206000f35b633883e1198114156104f05760643560011c1561023057600080fd5b6101405160065801613336565b6101605261014052610160516101405260018060c052602060c020546101605260018160c052602060c02001546101805260028160c052602060c02001546101a052506101405161016051610180516101a0516101c051610160516101e05261018051610200526101a0516102205261014051610240526102405161022051610200516101e051600658016139f0565b6102a0526101c0526101a0526101805261016052610140526102a0516101c0526101e060006003818352015b60643515610351576101606101e0516003811061031557600080fd5b60200201805160046101e0516003811061032e57600080fd5b602002013581818301101561034257600080fd5b8082019050905081525061039b565b6101606101e0516003811061036557600080fd5b60200201805160046101e0516003811061037e57600080fd5b60200201358082101561039057600080fd5b808203905090508152505b81516001018083528114156102f9575b50506101405161016051610180516101a0516101c0516101e051610160516102005261018051610220526101a05161024052610140516102605261026051610240516102205161020051600658016139f0565b6102c0526101e0526101c0526101a0526101805261016052610140526102c0516101e052602061028060046318160ddd6102205261023c6005545afa61044357600080fd5b601f3d1161045057600080fd5b60005061028051610200526000610220526064351561048e576101e0516101c0518082101561047e57600080fd5b80820390509050610220526104af565b6101c0516101e051808210156104a357600080fd5b80820390509050610220525b610220516102005180820282158284830414176104cb57600080fd5b809050905090506101c05180806104e157600080fd5b82049050905060005260206000f35b634515cef3811415610db2576011541561050957600080fd5b6001601155600f541561051b57600080fd5b6101405160065801613336565b6101605261014052610160516101405260018060c052602060c020546101605260018160c052602060c02001546101805260028160c052602060c02001546101a052506101405161016051610180516101a0516101c051610160516101e05261018051610200526101a0516102205261014051610240526102405161022051610200516101e051600658016139f0565b6102a0526101c0526101a0526101805261016052610140526102a0516101c0526005546101e052602061028060046318160ddd6102205261023c6101e0515afa61060157600080fd5b601f3d1161060e57600080fd5b6000506102805161020052610160516102205261018051610240526101a0516102605261028060006003818352015b61020051151561066b5760006004610280516003811061065c57600080fd5b60200201351161066b57600080fd5b610220610280516003811061067f57600080fd5b6020020180516004610280516003811061069857600080fd5b60200201358181830110156106ac57600080fd5b808201905090508152505b815160010180835281141561063d575b50506101405161016051610180516101a0516101c0516101e0516102005161022051610240516102605161028051610220516102a052610240516102c052610260516102e0526101405161030052610300516102e0516102c0516102a051600658016139f0565b6103605261028052610260526102405261022052610200526101e0526101c0526101a05261018052610160526101405261036051610280526101c051610280511161077857600080fd5b610280516102a0526080366102c0376000610200511115610aae57600254600380820282158284830414176107ac57600080fd5b80905090509050600880820490509050610340526003546103605261038060006003818352015b6102805161016061038051600381106107eb57600080fd5b6020020151808202821582848304141761080457600080fd5b809050905090506101c051808061081a57600080fd5b8204905090506103a05260006103c052610220610380516003811061083e57600080fd5b60200201516103e0526103e0516103a051111561087a576103a0516103e0518082101561086a57600080fd5b808203905090506103c05261089b565b6103e0516103a0518082101561088f57600080fd5b808203905090506103c0525b610340516103c05180820282158284830414176108b757600080fd5b809050905090506402540be400808204905090506102c061038051600381106108df57600080fd5b60200201526103e0516102c061038051600381106108fc57600080fd5b602002015161036051808202821582848304141761091957600080fd5b809050905090506402540be400808204905090508082101561093a57600080fd5b80820390509050610380516003811061095257600080fd5b600160c052602060c0200155610220610380516003811061097257600080fd5b6020020180516102c0610380516003811061098c57600080fd5b60200201518082101561099e57600080fd5b808203905090508152505b81516001018083528114156107d3575b5050610140610380525b610380515160206103805101610380526103806103805110156109e5576109c3565b610220516103a052610240516103c052610260516103e0526101405161040052610400516103e0516103c0516103a051600658016139f0565b61046052610360610380525b6103805152602061038051036103805261014061038051101515610a4d57610a2a565b610460516102a052610200516102a0516101c05180821015610a6e57600080fd5b808203905090508082028215828483041417610a8957600080fd5b809050905090506101c0518080610a9f57600080fd5b82049050905061032052610ada565b600160c052602060c0206102205181556102405160018201556102605160028201555061028051610320525b6064356103205110151515610b2e576308c379a0610340526020610360526014610380527f536c697070616765207363726577656420796f750000000000000000000000006103a05261038050606461035cfd5b61034060006003818352015b600060046103405160038110610b4f57600080fd5b60200201351115610cd657600060046103c0527f23b872dd000000000000000000000000000000000000000000000000000000006103e0526103c060048060208461042001018260208501600060045af1505080518201915050336020826104200101526020810190503060208261042001015260208101905060046103405160038110610bdc57600080fd5b6020020135602082610420010152602081019050806104205261042090508051602001806104e08284600060045af1610c1457600080fd5b505060206105c06104e05161050060006103405160038110610c3557600080fd5b600060c052602060c02001545af1610c4c57600080fd5b60203d80821115610c5d5780610c5f565b815b905090506105a0526105a08051602001806103608284600060045af1610c8457600080fd5b50506000610360511115610cd657610360806020015160008251806020901315610cad57600080fd5b8091901215610cbb57600080fd5b806020036101000a82049050905090501515610cd657600080fd5b8151600101808352811415610b3a575b505060206103e060446340c10f19610340523361036052610320516103805261035c60006101e0515af1610d1957600080fd5b601f3d11610d2657600080fd5b6000506103e05060606004610340376102c0516103a0526102e0516103c052610300516103e05261028051610400526102005161032051818183011015610d6c57600080fd5b8082019050905061042052337f423f6495a08fc652425cf4ed0d1f9e37e571d9b9529b1c1c23cce780b2e7df0d610100610340a261032051600052600060115560206000f35b635e0d443f8114156110795760043580806000811215610dce57195b607f1c15610ddb57600080fd5b90505060243580806000811215610dee57195b607f1c15610dfb57600080fd5b905050610140516101605161018051600658016134ce565b6101a0526101c0526101e0526101805261016052610140526101a0805161014052806020015161016052806040015161018052506c0c9f2c9cd04674edea400000006101a0526c0c9f2c9cd04674edea400000006101c0526c0c9f2c9cd04674edea400000006101e05261014060043560038110610e9057600080fd5b60200201516044356101a060043560038110610eab57600080fd5b60200201518082028215828483041417610ec457600080fd5b80905090509050670de0b6b3a764000080820490509050818183011015610eea57600080fd5b80820190509050610200526101405161016051610180516101a0516101c0516101e051610200516102205160406004610240376102005161028052610140516102a052610160516102c052610180516102e0526102e0516102c0516102a05161028051610260516102405160065801613b4e565b6103405261022052610200526101e0526101c0526101a052610180526101605261014052610340516102205261014060243560038110610f9d57600080fd5b60200201516102205180821015610fb357600080fd5b80820390509050600180821015610fc957600080fd5b8082039050905061024052600254610240518082028215828483041417610fef57600080fd5b809050905090506402540be400808204905090506102605261024051610260518082101561101c57600080fd5b80820390509050670de0b6b3a7640000808202821582848304141761104057600080fd5b809050905090506101a06024356003811061105a57600080fd5b6020020151808061106a57600080fd5b82049050905060005260206000f35b633df021248114156118a7576011541561109257600080fd5b6001601155600435808060008112156110a757195b607f1c156110b457600080fd5b905050602435808060008112156110c757195b607f1c156110d457600080fd5b905050600f54156110e457600080fd5b60018060c052602060c020546101405260018160c052602060c02001546101605260028160c052602060c020015461018052506101405161016051610180516101a0516101c0516101e051610140516102005261016051610220526101805161024052610240516102205161020051600658016135dc565b6102a0526102c0526102e0526101e0526101c0526101a0526101805261016052610140526102a080516101a05280602001516101c05280604001516101e052506c0c9f2c9cd04674edea40000000610200526c0c9f2c9cd04674edea40000000610220526c0c9f2c9cd04674edea40000000610240526101a0600435600381106111e557600080fd5b60200201516044356102006004356003811061120057600080fd5b6020020151808202821582848304141761121957600080fd5b80905090509050670de0b6b3a76400008082049050905081818301101561123f57600080fd5b80820190509050610260526101405161016051610180516101a0516101c0516101e0516102005161022051610240516102605161028051604060046102a037610260516102e0526101a051610300526101c051610320526101e051610340526103405161032051610300516102e0516102c0516102a05160065801613b4e565b6103a05261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526103a051610280526101a06024356003811061130a57600080fd5b6020020151610280518082101561132057600080fd5b8082039050905060018082101561133657600080fd5b808203905090506102a0526102a051600254808202821582848304141761135c57600080fd5b809050905090506402540be400808204905090506102c0526102a0516102c0518082101561138957600080fd5b80820390509050670de0b6b3a764000080820282158284830414176113ad57600080fd5b80905090509050610200602435600381106113c757600080fd5b602002015180806113d757600080fd5b8204905090506102a0526064356102a0511015151561145a576308c379a06102e052602061030052602e610320527f45786368616e676520726573756c74656420696e20666577657220636f696e73610340527f207468616e206578706563746564000000000000000000000000000000000000610360526103205060846102fcfd5b6102c051600354808202821582848304141761147557600080fd5b809050905090506402540be400808204905090506102e0526102e051670de0b6b3a764000080820282158284830414176114ae57600080fd5b80905090509050610200602435600381106114c857600080fd5b602002015180806114d857600080fd5b8204905090506102e052610140600435600381106114f557600080fd5b602002015160443581818301101561150c57600080fd5b808201905090506004356003811061152357600080fd5b600160c052602060c02001556101406024356003811061154257600080fd5b60200201516102a0518082101561155857600080fd5b808203905090506102e0518082101561157057600080fd5b808203905090506024356003811061158757600080fd5b600160c052602060c020015560006004610360527f23b872dd00000000000000000000000000000000000000000000000000000000610380526103606004806020846103c001018260208501600060045af1505080518201915050336020826103c0010152602081019050306020826103c00101526020810190506044356020826103c0010152602081019050806103c0526103c090508051602001806104808284600060045af161163857600080fd5b50506020610560610480516104a060006004356003811061165857600080fd5b600060c052602060c02001545af161166f57600080fd5b60203d808211156116805780611682565b815b90509050610540526105408051602001806103008284600060045af16116a757600080fd5b505060006103005111156116f9576103008060200151600082518060209013156116d057600080fd5b80919012156116de57600080fd5b806020036101000a820490509050905015156116f957600080fd5b60006004610360527fa9059cbb00000000000000000000000000000000000000000000000000000000610380526103606004806020846103c001018260208501600060045af1505080518201915050336020826103c00101526020810190506102a0516020826103c0010152602081019050806103c0526103c090508051602001806104608284600060045af161178f57600080fd5b50506020610520610460516104806000602435600381106117af57600080fd5b600060c052602060c02001545af16117c657600080fd5b60203d808211156117d757806117d9565b815b90509050610500526105008051602001806103008284600060045af16117fe57600080fd5b505060006103005111156118505761030080602001516000825180602090131561182757600080fd5b809190121561183557600080fd5b806020036101000a8204905090509050151561185057600080fd5b60043561036052604435610380526024356103a0526102a0516103c052337f8b3e96f2b889fa771c53c981b40daf005f63f637f1869f707052d15a3dd971406080610360a26102a051600052600060115560206000f35b63ecb586a5811415611c7957601154156118c057600080fd5b60016011556005546101405260206101e060046318160ddd6101805261019c610140515afa6118ee57600080fd5b601f3d116118fb57600080fd5b6000506101e05161016052606036610180376101e060006003818352015b6101e0516003811061192a57600080fd5b600160c052602060c02001546102005261020051600435808202821582848304141761195557600080fd5b8090509050905061016051808061196b57600080fd5b8204905090506102205260246101e0516003811061198857600080fd5b60200201356102205110151515611a03576308c379a0610240526020610260526030610280527f5769746864726177616c20726573756c74656420696e20666577657220636f696102a0527f6e73207468616e206578706563746564000000000000000000000000000000006102c05261028050608461025cfd5b610200516102205180821015611a1857600080fd5b808203905090506101e05160038110611a3057600080fd5b600160c052602060c0200155610220516101806101e05160038110611a5457600080fd5b6020020152600060046102a0527fa9059cbb000000000000000000000000000000000000000000000000000000006102c0526102a060048060208461030001018260208501600060045af15050805182019150503360208261030001015260208101905061022051602082610300010152602081019050806103005261030090508051602001806103a08284600060045af1611aef57600080fd5b505060206104606103a0516103c060006101e05160038110611b1057600080fd5b600060c052602060c02001545af1611b2757600080fd5b60203d80821115611b385780611b3a565b815b90509050610440526104408051602001806102408284600060045af1611b5f57600080fd5b50506000610240511115611bb157610240806020015160008251806020901315611b8857600080fd5b8091901215611b9657600080fd5b806020036101000a82049050905090501515611bb157600080fd5b8151600101808352811415611919575b5050602061028060446379cc67906101e0523361020052600435610220526101fc6000610140515af1611bf357600080fd5b601f3d11611c0057600080fd5b60005061028050610180516101e0526101a051610200526101c05161022052606036610240376101605160043580821015611c3a57600080fd5b808203905090506102a052337fa49d4cf02656aebf8c771f5a8585638a2a15ee6c97cf7205d4208ed7c1df252d60e06101e0a260006011556060610180f35b639fdaea0c8114156124e55760115415611c9257600080fd5b6001601155600f5415611ca457600080fd5b6101405160065801613336565b6101605261014052610160516101405260018060c052602060c020546101605260018160c052602060c02001546101805260028160c052602060c02001546101a052506101405161016051610180516101a0516101c051610160516101e05261018051610200526101a0516102205261014051610240526102405161022051610200516101e051600658016139f0565b6102a0526101c0526101a0526101805261016052610140526102a0516101c052610160516101e05261018051610200526101a0516102205261024060006003818352015b6101e06102405160038110611d9957600080fd5b60200201805160046102405160038110611db257600080fd5b602002013580821015611dc457600080fd5b808203905090508152505b8151600101808352811415611d85575b50506101405161016051610180516101a0516101c0516101e0516102005161022051610240516101e051610260526102005161028052610220516102a052610140516102c0526102c0516102a0516102805161026051600658016139f0565b610320526102405261022052610200526101e0526101c0526101a052610180526101605261014052610320516102405260025460038082028215828483041417611e8757600080fd5b8090509050905060088082049050905061026052600354610280526060366102a03761030060006003818352015b6101e06103005160038110611ec957600080fd5b602002015161032052610240516101606103005160038110611eea57600080fd5b60200201518082028215828483041417611f0357600080fd5b809050905090506101c0518080611f1957600080fd5b8204905090506103405260006103605261032051610340511115611f5c57610340516103205180821015611f4c57600080fd5b8082039050905061036052611f7d565b610320516103405180821015611f7157600080fd5b80820390509050610360525b61026051610360518082028215828483041417611f9957600080fd5b809050905090506402540be400808204905090506102a06103005160038110611fc157600080fd5b6020020152610320516102a06103005160038110611fde57600080fd5b6020020151610280518082028215828483041417611ffb57600080fd5b809050905090506402540be400808204905090508082101561201c57600080fd5b80820390509050610300516003811061203457600080fd5b600160c052602060c0200155610320516102a0610300516003811061205857600080fd5b60200201518082101561206a57600080fd5b808203905090506101e0610300516003811061208557600080fd5b60200201525b8151600101808352811415611eb5575b50506101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e051610300516101e0516103205261020051610340526102205161036052610140516103805261038051610360516103405161032051600658016139f0565b6103e052610300526102e0526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526103e051610300526005546103205260206103c060046318160ddd6103605261037c610320515afa61218357600080fd5b601f3d1161219057600080fd5b6000506103c051610340526101c05161030051808210156121b057600080fd5b808203905090506103405180820282158284830414176121cf57600080fd5b809050905090506101c05180806121e557600080fd5b82049050905061036052600061036051186121ff57600080fd5b6103608051600181818301101561221557600080fd5b808201905090508152506064356103605111151515612273576308c379a06103805260206103a05260146103c0527f536c697070616765207363726577656420796f750000000000000000000000006103e0526103c050606461039cfd5b602061042060446379cc679061038052336103a052610360516103c05261039c6000610320515af16122a457600080fd5b601f3d116122b157600080fd5b6000506104205061038060006003818352015b6000600461038051600381106122d957600080fd5b602002013518156124505760006004610400527fa9059cbb000000000000000000000000000000000000000000000000000000006104205261040060048060208461046001018260208501600060045af1505080518201915050336020826104600101526020810190506004610380516003811061235657600080fd5b6020020135602082610460010152602081019050806104605261046090508051602001806105008284600060045af161238e57600080fd5b505060206105c061050051610520600061038051600381106123af57600080fd5b600060c052602060c02001545af16123c657600080fd5b60203d808211156123d757806123d9565b815b905090506105a0526105a08051602001806103a08284600060045af16123fe57600080fd5b505060006103a0511115612450576103a080602001516000825180602090131561242757600080fd5b809190121561243557600080fd5b806020036101000a8204905090509050151561245057600080fd5b81516001018083528114156122c4575b505060606004610380376102a0516103e0526102c051610400526102e05161042052610240516104405261034051610360518082101561249f57600080fd5b8082039050905061046052337f173599dbf9c6ca6f7c3b590df07ae98a45d74ff54065505141e7de6c46a624c2610100610380a261036051600052600060115560206000f35b63cc2b27d7811415612579576024358080600081121561250157195b607f1c1561250e57600080fd5b9050506004356101405260243561016052610160516101405160065801614346565b6101c0526101e052610200526101c08080808051610220525050602081019050808080516102405250506020810190508080805161026052505050506102205160005260206000f35b631a4d01d281141561292d576011541561259257600080fd5b6001601155602435808060008112156125a757195b607f1c156125b457600080fd5b905050600f54156125c457600080fd5b606036610140376101405161016051610180516004356101a0526024356101c0526101c0516101a05160065801614346565b6102205261024052610260526101805261016052610140526102208080808051610280525050602081019050808080516102a0525050602081019050808080516102c052505050506102808051610140528060200151610160528060400151610180525060443561014051101515156126ae576308c379a06101a05260206101c05260186101e0527f4e6f7420656e6f75676820636f696e732072656d6f7665640000000000000000610200526101e05060646101bcfd5b602435600381106126be57600080fd5b600160c052602060c020018054610140516101605160035480820282158284830414176126ea57600080fd5b809050905090506402540be4008082049050905081818301101561270d57600080fd5b808201905090508082101561272157600080fd5b80820390509050815550602061024060446379cc67906101a052336101c0526004356101e0526101bc60006005545af161275a57600080fd5b601f3d1161276757600080fd5b6000506102405060006004610200527fa9059cbb000000000000000000000000000000000000000000000000000000006102205261020060048060208461026001018260208501600060045af15050805182019150503360208261026001015260208101905061014051602082610260010152602081019050806102605261026090508051602001806103008284600060045af161280457600080fd5b505060206103c06103005161032060006024356003811061282457600080fd5b600060c052602060c02001545af161283b57600080fd5b60203d8082111561284c578061284e565b815b905090506103a0526103a08051602001806101a08284600060045af161287357600080fd5b505060006101a05111156128c5576101a080602001516000825180602090131561289c57600080fd5b80919012156128aa57600080fd5b806020036101000a820490509050905015156128c557600080fd5b60043561020052610140516102205261018051600435808210156128e857600080fd5b8082039050905061024052337f5ad056f2e28a8cec232015406b843668c1e36cda598127ec3b8c59b8c72773a06060610200a261014051600052600060115560206000f35b633c157e64811415612ace57600454331461294757600080fd5b6008546201518081818301101561295d57600080fd5b8082019050905042101561297057600080fd5b426201518081818301101561298457600080fd5b80820190509050602435101561299957600080fd5b6101405160065801613336565b61016052610140526101605161014052600435606480820282158284830414176129cf57600080fd5b8090509050905061016052600060043511156129f257620f4240600435106129f5565b60005b6129fe57600080fd5b61014051610160511015612a41576101405161016051600a8082028215828483041417612a2a57600080fd5b809050905090501015612a3c57600080fd5b612a71565b61014051600a8082028215828483041417612a5b57600080fd5b80905090509050610160511115612a7157600080fd5b6101405160065561016051600755426008556024356009556101405161018052610160516101a052426101c0526024356101e0527fa2b71ec6df949300b59aab36b55e189697b750119dd349fcfa8c0f779e83c2546080610180a1005b63551a6588811415612b51576004543314612ae857600080fd5b6101405160065801613336565b6101605261014052610160516101405261014051600655610140516007554260085542600955610140516101605242610180527f46e22fb3709ad289f62ce63d469248536dbc78d82b84a3d7e74ad606dc2019386040610160a1005b635b5a1467811415612c0d576004543314612b6b57600080fd5b600a5415612b7857600080fd5b64012a05f2006004351115612b8c57600080fd5b6402540be4006024351115612ba057600080fd5b426203f480818183011015612bb457600080fd5b808201905090506101405261014051600a55600435600c55602435600d556004356101605260243561018052610140517f351fc5da2fbf480f2225debf3664a4bc90fa9923743aad58b4603f648e931fe06040610160a2005b634f12fe97811415612c9f576004543314612c2757600080fd5b600a54421015612c3657600080fd5b6000600a5418612c4557600080fd5b6000600a55600c5461014052600d546101605261014051600255610160516003556101405161018052610160516101a0527fbe12859b636aed607d5230b2cc2711f68d70e51060e6cca1f575ef5d2fcc95d16040610180a1005b63226840fb811415612cc0576004543314612cb957600080fd5b6000600a55005b636b441a40811415612d525760043560a01c15612cdc57600080fd5b6004543314612cea57600080fd5b600b5415612cf757600080fd5b426203f480818183011015612d0b57600080fd5b808201905090506101405261014051600b55600435600e55600435610140517f181aa3aa17d4cbf99265dd4443eba009433d3cde79d60164fde1d1a192beb93560006000a3005b636a1c05ae811415612dc9576004543314612d6c57600080fd5b600b54421015612d7b57600080fd5b6000600b5418612d8a57600080fd5b6000600b55600e546101405261014051600455610140517f71614071b88dee5e0b2ae578a9dd7b2ebbe9ae832ba419dc0242cd065a290b6c60006000a2005b6386fbf193811415612dea576004543314612de357600080fd5b6000600b55005b63e2e7d264811415612e825760206101c060246370a0823161014052306101605261015c60043560038110612e1e57600080fd5b600060c052602060c02001545afa612e3557600080fd5b601f3d11612e4257600080fd5b6000506101c05160043560038110612e5957600080fd5b600160c052602060c020015480821015612e7257600080fd5b8082039050905060005260206000f35b6330c54085811415613098576004543314612e9c57600080fd5b61014060006003818352015b6101405160038110612eb957600080fd5b600060c052602060c020015461016052602061022060246370a082316101a052306101c0526101bc610160515afa612ef057600080fd5b601f3d11612efd57600080fd5b600050610220516101405160038110612f1557600080fd5b600160c052602060c020015480821015612f2e57600080fd5b808203905090506101805260006101805111156130845760006004610200527fa9059cbb000000000000000000000000000000000000000000000000000000006102205261020060048060208461026001018260208501600060045af15050805182019150503360208261026001015260208101905061018051602082610260010152602081019050806102605261026090508051602001806103008284600060045af1612fdb57600080fd5b505060206103c0610300516103206000610160515af1612ffa57600080fd5b60203d8082111561300b578061300d565b815b905090506103a0526103a08051602001806101a08284600060045af161303257600080fd5b505060006101a0511115613084576101a080602001516000825180602090131561305b57600080fd5b809190121561306957600080fd5b806020036101000a8204905090509050151561308457600080fd5b8151600101808352811415612ea8575b5050005b63524c39018114156131445760045433146130b257600080fd5b61014060006003818352015b60206101e060246370a0823161016052306101805261017c61014051600381106130e757600080fd5b600060c052602060c02001545afa6130fe57600080fd5b601f3d1161310b57600080fd5b6000506101e051610140516003811061312357600080fd5b600160c052602060c02001555b81516001018083528114156130be575b5050005b63e369885381141561317357600454331461315e57600080fd5b426010541161316c57600080fd5b6001600f55005b633046f97281141561319457600454331461318d57600080fd5b6000600f55005b63c66106578114156131c557600435600381106131b057600080fd5b600060c052602060c020015460005260206000f35b634903b0d18114156131f657600435600381106131e157600080fd5b600160c052602060c020015460005260206000f35b63ddca3f4381141561320e5760025460005260206000f35b63fee3f7f98114156132265760035460005260206000f35b638da5cb5b81141561323e5760045460005260206000f35b6382c630668114156132565760055460005260206000f35b635409491a81141561326e5760065460005260206000f35b63b4b577ad8114156132865760075460005260206000f35b632081066c81141561329e5760085460005260206000f35b63140522888114156132b65760095460005260206000f35b63405e28f88114156132ce57600a5460005260206000f35b63e0a0b5868114156132e657600b5460005260206000f35b6358680d0b8114156132fe57600c5460005260206000f35b63e382446281141561331657600d5460005260206000f35b631ec0cdc181141561332e57600e5460005260206000f35b505b60006000fd5b610140526009546101605260075461018052610160514210156134bc576006546101a0526008546101c0526101a051610180511115613416576101a051610180516101a0518082101561338857600080fd5b80820390509050426101c051808210156133a157600080fd5b8082039050905080820282158284830414176133bc57600080fd5b80905090509050610160516101c051808210156133d857600080fd5b8082039050905080806133ea57600080fd5b8204905090508181830110156133ff57600080fd5b8082019050905060005260005161014051566134b7565b6101a0516101a051610180518082101561342f57600080fd5b80820390509050426101c0518082101561344857600080fd5b80820390509050808202821582848304141761346357600080fd5b80905090509050610160516101c0518082101561347f57600080fd5b80820390509050808061349157600080fd5b820490509050808210156134a457600080fd5b8082039050905060005260005161014051565b6134cc565b6101805160005260005161014051565b005b610140526c0c9f2c9cd04674edea40000000610160526c0c9f2c9cd04674edea40000000610180526c0c9f2c9cd04674edea400000006101a0526101c060006003818352015b6101606101c0516003811061352857600080fd5b60200201516101c0516003811061353e57600080fd5b600160c052602060c0200154808202821582848304141761355e57600080fd5b80905090509050670de0b6b3a7640000808204905090506101606101c0516003811061358957600080fd5b60200201525b8151600101808352811415613514575b505060606101c0525b60006101c0511115156135ba576135d6565b60206101c05103610160015160206101c051036101c0526135a8565b61014051565b6101a0526101405261016052610180526c0c9f2c9cd04674edea400000006101c0526c0c9f2c9cd04674edea400000006101e0526c0c9f2c9cd04674edea400000006102005261022060006003818352015b6101c0610220516003811061364257600080fd5b6020020151610140610220516003811061365b57600080fd5b6020020151808202821582848304141761367457600080fd5b80905090509050670de0b6b3a7640000808204905090506101c0610220516003811061369f57600080fd5b60200201525b815160010180835281141561362e575b50506060610220525b6000610220511115156136d0576136ec565b602061022051036101c0015160206102205103610220526136be565b6101a051565b6101c0526101405261016052610180526101a0526040366101e03761024060006003818352015b602061024051026101400151610220526101e080516102205181818301101561374157600080fd5b808201905090508152505b8151600101808352811415613719575b50506101e05115156137765760006000526000516101c051565b6101e051610220526101a0516003808202821582848304141761379857600080fd5b8090509050905061024052610260600060ff818352015b61022051610280526102c060006003818352015b60206102c0510261014001516102a052610280516102205180820282158284830414176137ef57600080fd5b809050905090506102a0516003808202821582848304141761381057600080fd5b80905090509050808061382257600080fd5b820490509050610280525b81516001018083528114156137c3575b50506102205161020052610240516101e051808202821582848304141761386357600080fd5b80905090509050606480820490509050610280516003808202821582848304141761388d57600080fd5b809050905090508181830110156138a357600080fd5b808201905090506102205180820282158284830414176138c257600080fd5b80905090509050610240516064808210156138dc57600080fd5b808203905090506102205180820282158284830414176138fb57600080fd5b80905090509050606480820490509050600461028051808202821582848304141761392557600080fd5b8090509050905081818301101561393b57600080fd5b80820190509050808061394d57600080fd5b82049050905061022052610200516102205111156139a157600161022051610200518082101561397c57600080fd5b8082039050905011151561399c576102205160005250506000516101c051565b6139d8565b60016102005161022051808210156139b857600080fd5b808203905090501115156139d8576102205160005250506000516101c051565b81516001018083528114156137af575b505060006000fd5b6101c0526101405261016052610180526101a0526101405161016051610180516101a0516101c051610140516101e0526101605161020052610180516102205261022051610200516101e051600658016135dc565b610280526102a0526102c0526101c0526101a05261018052610160526101405261028080516102e052806020015161030052806040015161032052506101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e05161030051610320516102e05161034052610300516103605261032051610380526101a0516103a0526103a051610380516103605161034051600658016136f2565b6104005261032052610300526102e0526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a052610180526101605261014052610400516000526000516101c051565b610200526101405261016052610180526101a0526101c0526101e052610160516101405118613b7c57600080fd5b6000610160511215613b8d57600080fd5b60036101605112613b9d57600080fd5b6000610140511215613bae57600080fd5b60036101405112613bbe57600080fd5b6101405161016051610180516101a0516101c0516101e051610200516102205160065801613336565b6102405261022052610200526101e0526101c0526101a05261018052610160526101405261024051610220526101405161016051610180516101a0516101c0516101e0516102005161022051610240516101a051610260526101c051610280526101e0516102a052610220516102c0526102c0516102a0516102805161026051600658016136f2565b610320526102405261022052610200526101e0526101c0526101a05261018052610160526101405261032051610240526102205160038082028215828483041417613cba57600080fd5b809050905090506102605261024051610280526060366102a03761030060006003818352015b61014051610300511415613cfb57610180516102c052613d30565b61016051610300511815613d2b576101a06103005160038110613d1d57600080fd5b60200201516102c052613d30565b613dac565b6102a080516102c051818183011015613d4857600080fd5b8082019050905081525061028051610240518082028215828483041417613d6e57600080fd5b809050905090506102c05160038082028215828483041417613d8f57600080fd5b809050905090508080613da157600080fd5b820490509050610280525b8151600101808352811415613ce0575b505061028051610240518082028215828483041417613dda57600080fd5b8090509050905060648082028215828483041417613df757600080fd5b809050905090506102605160038082028215828483041417613e1857600080fd5b809050905090508080613e2a57600080fd5b820490509050610280526102a0516102405160648082028215828483041417613e5257600080fd5b80905090509050610260518080613e6857600080fd5b820490509050818183011015613e7d57600080fd5b80820190509050610300526102405161032052610340600060ff818352015b610320516102e05261032051610320518082028215828483041417613ec057600080fd5b8090509050905061028051818183011015613eda57600080fd5b808201905090506002610320518082028215828483041417613efb57600080fd5b8090509050905061030051818183011015613f1557600080fd5b808201905090506102405180821015613f2d57600080fd5b808203905090508080613f3f57600080fd5b820490509050610320526102e051610320511115613f93576001610320516102e05180821015613f6e57600080fd5b80820390509050111515613f8e5761032051600052505060005161020051565b613fca565b60016102e0516103205180821015613faa57600080fd5b80820390509050111515613fca5761032051600052505060005161020051565b8151600101808352811415613e9c575b505060006000fd5b610200526101405261016052610180526101a0526101c0526101e052600061016051121561400f57600080fd5b6003610160511261401f57600080fd5b610140516003808202821582848304141761403957600080fd5b80905090509050610220526101e05161024052606036610260376102c060006003818352015b610160516102c051181561408f576101806102c0516003811061408157600080fd5b602002015161028052614094565b614110565b6102608051610280518181830110156140ac57600080fd5b80820190509050815250610240516101e05180820282158284830414176140d257600080fd5b8090509050905061028051600380820282158284830414176140f357600080fd5b80905090509050808061410557600080fd5b820490509050610240525b815160010180835281141561405f575b5050610240516101e051808202821582848304141761413e57600080fd5b809050905090506064808202821582848304141761415b57600080fd5b80905090509050610220516003808202821582848304141761417c57600080fd5b80905090509050808061418e57600080fd5b82049050905061024052610260516101e051606480820282158284830414176141b657600080fd5b809050905090506102205180806141cc57600080fd5b8204905090508181830110156141e157600080fd5b808201905090506102c0526101e0516102e052610300600060ff818352015b6102e0516102a0526102e0516102e051808202821582848304141761422457600080fd5b809050905090506102405181818301101561423e57600080fd5b8082019050905060026102e051808202821582848304141761425f57600080fd5b809050905090506102c05181818301101561427957600080fd5b808201905090506101e0518082101561429157600080fd5b8082039050905080806142a357600080fd5b8204905090506102e0526102a0516102e05111156142f75760016102e0516102a051808210156142d257600080fd5b808203905090501115156142f2576102e051600052505060005161020051565b61432e565b60016102a0516102e0518082101561430e57600080fd5b8082039050905011151561432e576102e051600052505060005161020051565b8151600101808352811415614200575b505060006000fd5b6101805261014052610160526101405161016051610180516101a05160065801613336565b6101c0526101a0526101805261016052610140526101c0516101a0526101405161016051610180516101a0516101c0516101e05161020051600658016134ce565b610220526102405261026052610200526101e0526101c0526101a05261018052610160526101405261022080516101c05280602001516101e052806040015161020052506101405161016051610180516101a0516101c0516101e05161020051610220516101c051610240526101e0516102605261020051610280526101a0516102a0526102a051610280516102605161024051600658016136f2565b6103005261022052610200526101e0526101c0526101a052610180526101605261014052610300516102205260206102c060046318160ddd6102605261027c6005545afa61449657600080fd5b601f3d116144a357600080fd5b6000506102c0516102405261022051610140516102205180820282158284830414176144ce57600080fd5b809050905090506102405180806144e457600080fd5b820490509050808210156144f757600080fd5b80820390509050610260526101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516101a0516102a052610160516102c0526101c0516102e0526101e05161030052610200516103205261026051610340526103405161032051610300516102e0516102c0516102a05160065801613fe2565b6103a05261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526103a051610280526101c0516102a0526101e0516102c052610200516102e052600254600380820282158284830414176145e857600080fd5b809050905090506008808204905090506103005261032060006003818352015b6000610340526101605161032051141561468a576101c0610320516003811061463057600080fd5b602002015161026051808202821582848304141761464d57600080fd5b8090509050905061022051808061466357600080fd5b820490509050610280518082101561467a57600080fd5b8082039050905061034052614709565b6101c0610320516003811061469e57600080fd5b60200201516101c061032051600381106146b757600080fd5b60200201516102605180820282158284830414176146d457600080fd5b809050905090506102205180806146ea57600080fd5b820490509050808210156146fd57600080fd5b80820390509050610340525b6102a0610320516003811061471d57600080fd5b6020020180516103005161034051808202821582848304141761473f57600080fd5b809050905090506402540be400808204905090508082101561476057600080fd5b808203905090508152505b8151600101808352811415614608575b50506102a0610160516003811061479157600080fd5b6020020151610140610340525b610340515160206103405101610340526103406103405110156147c05761479e565b6101a0516103605261016051610380526102a0516103a0526102c0516103c0526102e0516103e0526102605161040052610400516103e0516103c0516103a051610380516103605160065801613fe2565b61046052610320610340525b61034051526020610340510361034052610140610340511015156148405761481d565b610460518082101561485157600080fd5b80820390509050610320526001610340526001610360526001610380526103205160018082101561488157600080fd5b80820390509050610340610160516003811061489c57600080fd5b602002015180806148ac57600080fd5b820490509050610320526101c061016051600381106148ca57600080fd5b602002015161028051808210156148e057600080fd5b8082039050905061034061016051600381106148fb57600080fd5b6020020151808061490b57600080fd5b8204905090506103a0526104206103205181526103a051610320518082101561493357600080fd5b808203905090508160200152610240518160400152506060610480525b6000610480511115156149625761497e565b6020610480510361042001516020610480510361048052614950565b61018051565b61017a614afe0361017a60003961017a614afe036000f3"
    swapDeployData = web3.eth.contract(bytecode=bytecodeSwap, abi=swapAbi)
    token_swap_tx = swapDeployData.constructor(*deployment_args).transact(_tx_params())
    tx_swap_receipt = web3.eth.wait_for_transaction_receipt(token_swap_tx)
    print('pool_contract_address:', tx_swap_receipt.contractAddress)
    swap = web3.eth.contract(
                         address=tx_swap_receipt.contractAddress,
                         abi=swapAbi
                     )
    setSwapToToken_tx = token.functions.set_minter(tx_swap_receipt.contractAddress).transact(_tx_params())
    tx_setSwap_receipt = web3.eth.wait_for_transaction_receipt(setSwapToToken_tx)
    print('setSwapData:',tx_setSwap_receipt)
    # set the minter
    # coins = [1000000000000000000, 1000000000000000000, 1000000000000000000]
    # isDeposit = True
    # tx_deposit = swap.events.add_liquidity(coins, 0).transact(_tx_params())
    # tx_deposit_receipt = web3.eth.wait_for_transaction_receipt(tx_deposit)
    # print(tx_deposit_receipt)
    # deploy the liquidity gauge
    #LiquidityGaugeV3 = load_project("curvefi/curve-dao-contracts@1.2.0").LiquidityGaugeV2
    #print(LiquidityGaugeV3)
    #LiquidityGaugeV3.deploy(tx_swap_receipt.contractAddress, MINTER, GAUGE_OWNER, _tx_params())

    print(f"Gas used in deployment: {(balance - DEPLOYER.balance()) / 1e18:.4f} ETH")


